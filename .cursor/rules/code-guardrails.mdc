---
alwaysApply: true
---

%% Code Guardrails (Always) %%

# TypeScript
- Запрещено `any`. Использовать `unknown` + парсинг.
- Явные return types у функций/экспортов.
- Максимум 50 строк на функцию (если больше — предложить разбиение).

# Validation
- Все входные данные валидировать Zod‑схемами.
- ENV через валидируемый слой.

# UX/A11y
- Клавиатурная навигация/фокус‑ловушки.
- Контраст/семантика. Ошибки/загрузки/пустые состояния обязательны.

# Structure
- Следовать текущей структуре папок/импортов.
- Имена осмысленные, без аббревиатур.

# Tests
- Для бизнес‑логики — юнит‑тесты.
- Для интеграций — интеграционные тесты.

# Output
- Писать только необходимые изменения (edits), без лишнего кода.
- Не добавлять консольные логи в продакшн‑код.