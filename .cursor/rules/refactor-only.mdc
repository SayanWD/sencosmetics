---
alwaysApply: false
appliesWhen:
  labels: ["refactor"]
  taskType: "refactor"
---

%% Refactor Rules (Conditional) %%

# Goals
- Не менять внешнее поведение/контракты.
- Снижать сложность, глубину ветвления, дублирование.

# Rules
- Без функциональных изменений (иначе оформить как отдельную фичу).
- Покрыть изменённые участки тестами регрессии.
- Сохранить публичные API/типы.